<?php
namespace WP\Views; use WP\Traits\Helpers; class Page { use Helpers; public static $default; public static $static; public function __construct() { self::set('caller', get_called_class()); $sp6a3d9e = array('nf_logo' => 'getHeaderLogo', 'nf_head' => 'getHeader', 'nf_tabs' => 'getTabs', 'nf_foot' => 'getFooter'); add_action('admin_menu', array($this, 'makeView')); array_walk($sp6a3d9e, function ($sp228815, $sp417d14) { if (method_exists(self::get('caller'), $sp228815)) { add_action($sp417d14, array(self::get('caller'), $sp228815)); } }); } public static function getTpl() { $sp861b0e = self::get('namespace') . '\\' . ucfirst(camel_case(self::get('page'))); class_exists($sp861b0e) ? add_action('nf_body', array($sp861b0e, 'getInstance')) : null; include_once self::get('templatePath') . '/main.tpl'; if (!class_exists($sp861b0e)) { dd('class ' . $sp861b0e . ' doesn\'t exist.'); } } public static function makeView() { self::bootstrap(); $sp992d07 = self::get('caller'); array_walk($sp992d07::$plugin, function ($sp228815, $sp417d14) use($sp992d07) { if (!self::isMenuItemExists($sp417d14)) { add_menu_page(ucwords($sp417d14), $sp417d14, 'manage_options', $sp228815['uri'], array($sp992d07, 'getTpl'), self::get('assetsUrl') . $sp228815['menu_logo']); } array_walk($sp228815['pages'], function ($spefa1bf, $sp08bb2d) use($sp228815, $sp992d07) { add_submenu_page($sp228815['uri'], ucwords($sp08bb2d), ucwords($sp08bb2d), 'manage_options', $spefa1bf, array($sp992d07, 'getTpl')); }); }); } public static function isMenuItemExists($sp5a0a81) { global $menu; $sp823397 = false; array_walk($menu, function ($sp228815) use($sp5a0a81, &$sp823397) { if (preg_match('/^' . trim($sp5a0a81) . '$/i', $sp228815[0])) { $sp823397 = true; } }); return $sp823397; } protected static function makeTab($sp4f6756, $sp08bb2d, $sp0f46d2 = null) { $sp9a49a5 = $sp08bb2d == self::getCurrentPage() ? 'nav-tab-active' : ''; printf('<a class=\'nav-tab %s\' href=\'?page=%s\' title=\'%s\'>%s</a>', $sp9a49a5, is_null($sp08bb2d) ? self::getCurrentPage() : $sp08bb2d, ucfirst($sp0f46d2), ucwords($sp4f6756)); } public static function getTabs() { $sp992d07 = self::get('caller'); array_walk(array_shift($sp992d07::$plugin)['pages'], function ($spefa1bf, $sp08bb2d) { self::makeTab($sp08bb2d, $spefa1bf); }); } }