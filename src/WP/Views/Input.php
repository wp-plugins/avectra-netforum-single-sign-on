<?php
namespace WP\Views; class Input { public static function textfield($sp9d9af6) { return self::field($sp9d9af6, $sp9ef517 = 'text'); } public static function passwordfield($sp9d9af6) { return self::field($sp9d9af6, $sp9ef517 = 'password'); } public static function checkbox($sp9d9af6) { return self::field($sp9d9af6, $sp9ef517 = 'checkbox', null); } public static function textarea($sp9d9af6) { return self::field($sp9d9af6, $sp9ef517 = 'textarea', null); } protected static function field($sp9d9af6, $sp9ef517 = 'text', $sp7f6a5b = 'regular-text') { $sp48d970 = $sp9d9af6['id']; $spac3459 = $sp9d9af6['group']; $sp522919 = $sp9d9af6['section']; $sp744552 = "{$spac3459}[{$sp522919}][{$sp48d970}]"; $sp2c425c = self::makeDefaultValue($sp9d9af6); $sp1ce24e = ''; if ($sp9ef517 == 'checkbox') { $sp1ce24e .= checked(1, (bool) $sp2c425c, false); if (!checked(1, (bool) $sp2c425c, false)) { $sp2c425c = checked(1, $sp2c425c, false) ? 0 : 1; } } if (!is_null($sp9d9af6['js'])) { self::addJS($sp9d9af6['js'], $sp744552, $sp2c425c, $sp9d9af6); } $sp315b9a = array('class' => $sp7f6a5b, 'type' => $sp9ef517, 'name' => $sp744552, 'value' => esc_attr($sp2c425c), 'extra' => $sp1ce24e); switch ($sp9ef517) { case 'textarea': self::itemTextArea($sp315b9a); break; default: self::itemTextField($sp315b9a); } self::addDescription($sp9d9af6['desc']); } private static function itemTextArea(array $sp315b9a) { printf('<textarea cols=30 rows=4 class=\'%s\' type=\'%s\' name=\'%s\' %s>%s</textarea>', $sp315b9a['class'], $sp315b9a['type'], $sp315b9a['name'], $sp315b9a['extra'], $sp315b9a['value']); } private static function itemTextField(array $sp315b9a) { printf('<input class=\'%s\' type=\'%s\' name=\'%s\' value=\'%s\' %s />', $sp315b9a['class'], $sp315b9a['type'], $sp315b9a['name'], $sp315b9a['value'], $sp315b9a['extra']); } private static function addDescription($sp610aa0) { if (is_array($sp610aa0)) { printf('<small>&nbsp; %s</small><br><small>%s</small>', array_shift($sp610aa0), esc_attr(array_pop($sp610aa0))); } else { printf('<br><small>%s</small>', esc_attr($sp610aa0)); } } private static function makeDefaultValue(array $sp9d9af6) { $sp4e1175 = $sp9d9af6['default']; $sp4fbca1 = $sp9d9af6['filter']; $spde3b32 = self::getOptionValue($sp9d9af6); if (is_null($spde3b32) && is_array($sp4e1175)) { $sp4e1175 = self::handleCallback($sp4e1175); } if (is_array($sp4fbca1)) { $spde3b32 = self::handleCallback($sp4fbca1, array(is_null($spde3b32) ? $sp4e1175 : $spde3b32)); } return is_null($spde3b32) ? $sp4e1175 : $spde3b32; } public static function handleCallback($sp413c18, array $spde3b32 = array()) { if (!is_array($sp413c18)) { return $spde3b32; } $sp851128 = array_shift($sp413c18); $sp315b9a = is_array(end($sp413c18)) ? is_null($spde3b32) ? end($sp413c18) : array_merge(end($sp413c18), $spde3b32) : $spde3b32; return call_user_func_array($sp851128, $sp315b9a); } private static function getOptionValue(array $sp9d9af6) { $sp48d970 = $sp9d9af6['id']; $spac3459 = $sp9d9af6['group']; $sp522919 = $sp9d9af6['section']; if (isset($_REQUEST[$spac3459][$sp522919][$sp48d970])) { return $_REQUEST[$spac3459][$sp522919][$sp48d970]; } $spb0bfa9 = get_option($spac3459); return isset($spb0bfa9[$sp48d970]) && !empty($spb0bfa9[$sp48d970]) ? $spb0bfa9[$sp48d970] : isset($spb0bfa9[$sp522919][$sp48d970]) && !empty($spb0bfa9[$sp522919][$sp48d970]) ? $spb0bfa9[$sp522919][$sp48d970] : null; } public static function addJS($sp3b6e45, $spff115a = '', $sp2c425c = '', $sp9d9af6 = '') { $spac3459 = $sp522919 = null; is_array($sp9d9af6) ? extract($sp9d9af6) : null; $sp490776 = function ($spff115a, $sp66035e = '') { return sprintf('$(\'input[name%s="%s"]\')', $sp66035e, $spff115a); }; printf('<script>jQuery(document).ready(function($) { %s });</script>', preg_replace(array('/%field:(.*?)%/i', '/%field/', '/%value/'), array($sp490776('[$1]', '*'), $sp490776($spff115a), esc_attr($sp2c425c)), self::compress($sp3b6e45))); } protected static function compress($sp94ba2c) { $sp94ba2c = preg_replace('/((?:\\/\\*(?:[^*]|(?:\\*+[^*\\/]))*\\*+\\/)|(?:\\/\\/.*))/', '', $sp94ba2c); $sp94ba2c = str_replace(array('
', '', '	', '
', '  ', '    ', '     '), '', $sp94ba2c); $sp94ba2c = preg_replace(array('(( )+\\))', '(\\)( )+)'), ')', $sp94ba2c); return $sp94ba2c; } }