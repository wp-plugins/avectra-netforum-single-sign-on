<?php
namespace NetAuth; class RestrictPassword { public function __construct() { add_filter('show_password_fields', array($this, 'disable')); add_filter('allow_password_reset', array($this, 'disable')); add_filter('gettext', array($this, 'remove')); } public function disable() { if (is_admin()) { $spac912c = wp_get_current_user(); $sp9b6b45 = new \WP_User($spac912c->ID); return !empty($sp9b6b45->roles) && is_array($sp9b6b45->roles) && array_shift($sp9b6b45->roles) == 'administrator'; } return false; } public function remove($sp55c5a4) { return preg_replace('/lost your password\\??/is', '', $sp55c5a4); } }